---
title: "Débogage d’un modèle de texte T4 | Documents Microsoft"
ms.custom: 
ms.date: 11/04/2016
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- text templates, troubleshooting
- text templates, debugging
ms.assetid: 0877fdf2-20bf-42da-b3cc-4c5856b80821
caps.latest.revision: "28"
author: alancameronwills
ms.author: awills
manager: douge
ms.openlocfilehash: d60acd7d0d992ced0235d5d1e1c768f146bf4acd
ms.sourcegitcommit: aadb9588877418b8b55a5612c1d3842d4520ca4c
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/27/2017
---
# <a name="debugging-a-t4-text-template"></a>Débogage d'un modèle de texte T4
Vous pouvez définir des points d’arrêt dans les modèles de texte. Pour déboguer un modèle de texte au moment du design, enregistrez le fichier de modèle de texte, puis choisissez **déboguer le modèle T4** dans le menu contextuel du fichier dans l’Explorateur de solutions. Pour déboguer un modèle de texte au moment de l’exécution, il vous suffit de déboguer l’application à laquelle il appartient.  
  
 Pour déboguer un modèle de texte, vous devez comprendre les étapes du processus de transformation du modèle. Différents types d’erreurs peuvent se produire au sein de chaque étape. Les étapes sont les suivantes.  
  
|Étape|Modèle de conception : quand il se produit|Modèle au moment de l’exécution : quand il se produit|  
|----------|--------------------------------------------|-----------------------------------------|  
|Code est généré à partir du modèle de texte.<br /><br /> Erreurs dans les directives, incompatibles ou de troubles `<#...#>` balises.|Lorsque vous enregistrez le modèle ou appelez la transformation de texte.|Lorsque vous enregistrez le modèle ou appelez la transformation de texte.|  
|Code généré est compilé.<br /><br /> Erreurs de compilation dans votre code de modèle.|Immédiatement après l’étape précédente.|En même temps que votre code d’application.|  
|Le code s’exécute.<br /><br /> Erreurs d’exécution dans votre code de modèle.|Immédiatement après l’étape précédente.|Lorsque votre application s’exécute et appelle le code du modèle.|  
  
 Dans la plupart des cas, les numéros de ligne dans le code du modèle figurent dans le rapport d’erreurs. Lorsque le rapport d’erreurs fait référence à un nom de fichier temporaire, la cause habituelle est un crochet non apparié dans le code du modèle de texte.  
  
 Vous pouvez définir des points d’arrêt dans les modèles de texte et déboguer de manière habituelle.  
  
## <a name="common-errors-and-fixes"></a>Erreurs courantes et des correctifs  
 Le tableau suivant répertorie les erreurs les plus courantes et leurs résolutions.  
  
|Message d'erreur|Description|Solution|  
|-------------------|-----------------|--------------|  
|Échec du chargement de la classe de base '{0}' à partir de laquelle la classe Transformation hérite.|Se produit si vous ne trouvez pas la classe de base spécifiée dans le `inherits` paramètre dans une directive de modèle. Le message fournit le numéro de ligne de la directive de modèle.|Assurez-vous que la classe spécifiée existe et qu’il existe dans l’assembly est spécifié dans une directive d’assembly.|  
|Impossible de résoudre incluent du texte pour file:{0}|Se produit lorsque vous ne trouvez pas un modèle inclus. Le message fournit le nom du fichier include demandé.|N’oubliez pas que le chemin d’accès est relatif au chemin de modèle d’origine, ou que le fichier est dans un emplacement qui est inscrit avec l’ordinateur hôte, ou qu’il existe un chemin d’accès complet au fichier.|  
|Des erreurs ont été générées lors de l’initialisation de l’objet de transformation. La transformation ne sera pas exécutée.|Se produit lorsque la méthode 'Initialize()' de la classe de transformation a échoué ou a retourné false.|Le code dans la fonction Initialize() provient de la classe de transformation de base spécifiée dans le \<#@template#> directive et de processeurs de directive. L’erreur ayant provoqué l’échec probablement de l’initialisation est sur la liste d’erreurs. Recherchez la raison de l’échec. Vous pouvez examiner le code généré réel pour Initialize() en suivant les procédures pour déboguer un modèle.|  
|L’assembly '{0}' pour le processeur de directive '{1}' n'a pas été accordé le jeu d’autorisations FullTrust. Seuls les assemblys approuvés sont autorisés à fournir des processeurs de directive. Ce processeur de directive ne sera pas chargé.|Se produit lorsque le système n’accorde pas d’autorisations FullTrust à un assembly contenant un processeur de directive. Le message fournit le nom de l’assembly et le nom du processeur de directive.|N’oubliez pas que vous utilisez uniquement des assemblys de confiance sur l’ordinateur local.|  
|Le chemin d’accès '{0}' doit être soit local vers cet ordinateur ou une partie de votre zone de confiance.|Se produit lorsqu’une directive ou une directive d’assembly fait référence à un fichier qui n’est pas sur votre ordinateur local ou sur la zone de confiance de votre réseau.|Assurez-vous que le répertoire où se trouvent la directive ou les directives d’assembly est dans votre zone de confiance. Vous pouvez ajouter un répertoire réseau à votre zone de confiance d’Internet Explorer.|  
|Plusieurs erreurs de syntaxe telles que « Non valide jeton ' catch' » ou « un espace de noms ne peut pas contenir directement des membres »|Trop d’accolades fermantes dans votre code de modèle. Le compilateur est il confusion avec le code de génération standard.|Vérifier le numéro de la fermeture des accolades et des crochets à l’intérieur des délimiteurs de code.|  
|Boucles ou conditions non compilé ou exécuté correctement. Par exemple : `<#if (i>10)#> Number is: <#= i #>`.<br /><br /> Ce code génère toujours la valeur d’i. Uniquement « nombre est : » est conditionnel.|En c#, toujours utiliser des accolades pour entourer les blocs de texte qui sont incorporés dans les instructions de contrôle.|Ajouter des accolades : `<#if (i>10) { #>    Number is: <#= i #><# } #>`.|  
|« Expression trop complexe » lors du traitement d’un modèle au moment du design ou de la compilation d’un modèle d’exécution (prétraité).<br /><br /> [!INCLUDE[vsprvs](../code-quality/includes/vsprvs_md.md)]cesse de fonctionner lorsque vous tentez d’inspecter le code généré par un modèle d’exécution.|Bloc de texte est trop long. T4 convertit des blocs de texte à une expression de concaténation de chaîne, avec une chaîne littérale pour chaque ligne du modèle. Blocs de texte très longues peuvent dépasser les limites de taille du compilateur.|Scinder le bloc de texte long avec un bloc d’expression telles que :<br /><br /> `<#= "" #>`|  
  
## <a name="warning-descriptions-and-fixes"></a>Description des avertissements et des correctifs  
 Le tableau suivant répertorie les avertissements courants, ainsi que des correctifs, s’il est disponible.  
  
|Message d’avertissement|Description|Solution|  
|---------------------|-----------------|--------------|  
|Le chargement du fichier include '{0}' retourné une chaîne null ou vide.|Se produit si un fichier de modèle de texte inclus est vide. Le message fournit le nom de fichier du fichier inclus.|Supprimez la directive include ou assurez-vous que le fichier a un contenu.|  
|Après la compilation de la transformation :|Ajoute cette chaîne à toutes les erreurs ou avertissements du compilateur d’origine lors de la compilation de la transformation. Cette chaîne signifie que le compilateur a généré une erreur ou un avertissement.|Si vous avez un problème pour trouver la DLL, vous devrez peut-être fournir le chemin d’accès complet ou d’un nom fort qualifié complet si la DLL se trouve dans le GAC.|  
|Le paramètre '{0}' existe déjà dans la directive. Le paramètre en double sera ignoré.|Se produit lorsqu’un paramètre est spécifié plusieurs fois dans une directive. Le message fournit le nom du paramètre et le numéro de ligne de la directive.|Supprimez la spécification de paramètre en double.|  
|Une erreur du chargement du fichier include '{0}' s’est produite. La directive include sera ignorée.|Se produit lorsque vous ne trouvez pas un fichier spécifié dans un `include` la directive. Le message fournit le nom du fichier et le numéro de ligne de la directive.|Assurez-vous que le fichier include existe dans le même répertoire que le fichier de modèle de texte d’origine ou dans un des répertoires include qui sont inscrits avec l’ordinateur hôte.|  
|Une classe de base non valide a été spécifiée pour la classe de Transformation. La classe de base doit dériver de Microsoft.VisualStudio.TextTemplating.TextTransformation.|Se produit lorsque le `inherits` paramètre dans une directive de modèle spécifie une classe qui n’hérite pas de `TextTransformation`. Le message fournit le numéro de ligne de la directive de modèle.|Spécifiez une classe qui dérive de `TextTransformation`.|  
|Une culture non valide a été spécifiée dans la directive 'template'. La culture doit être au format « xx-XX ». La culture invariante sera utilisée.|Se produit lorsque le paramètre de culture dans une directive de modèle est spécifié correctement. Le message fournit le numéro de ligne de la directive de modèle.|Modifier le paramètre de culture pour une culture valide dans le format « xx-XX ».|  
|Une valeur de débogage non valide '{0}' a été spécifiée dans la directive de modèle. La valeur de débogage doit être « true » ou « false ». La valeur par défaut « False » sera utilisé.|Se produit lorsque le `debug` paramètre dans une directive de modèle est spécifié correctement. Le message fournit le numéro de ligne de la directive de modèle.|Définissez le paramètre de débogage sur « true » ou « false ».|  
|Une valeur HostSpecific non valide '{0}' a été spécifiée dans la directive de modèle. La valeur HostSpecific doit être « true » ou « false ». La valeur par défaut « False » sera utilisé.|Se produit lorsque le paramètre spécifique à l’hôte dans un `template` la directive est spécifiée de manière incorrecte. Le message fournit le numéro de ligne de la directive de modèle.|Définir le paramètre spécifique à l’hôte sur « true » ou « false ».|  
|Un langage non valide '{0}' a été spécifié dans la directive 'template'. La langue doit être « C# » ou « VB ». La valeur par défaut « C# » servira.|Se produit lorsqu’un langage non pris en charge est spécifié dans la `template` directive. Uniquement « C# » ou « VB » sont autorisées (sensible à la casse). Le message fournit le numéro de ligne de la directive de modèle.|Définir le `language` paramètre dans la directive de modèle à « C# » ou « VB ».|  
|Plusieurs directives de sortie ont été trouvées dans le modèle. Tout sauf la première sera ignoré.|Se produit lorsque plusieurs `output` directives sont spécifiées dans un fichier de modèle. Le message fournit le numéro de ligne de la directive de sortie en double.|Supprimez le doublon `output` directives.|  
|Plusieurs directives de modèle ont été trouvées dans le modèle. Tout sauf la première sera ignoré. Plusieurs paramètres de la directive de modèle doivent être spécifiés dans une directive de modèle.|Se produit si vous spécifiez plusieurs `template` directives dans un fichier de modèle de texte (y compris les fichiers inclus). Le message fournit le numéro de ligne de la directive de modèle en double.|Regroupez les différentes `template` directives en un seul `template` directive.|  
|Aucun processeur n’a été spécifié pour une directive nommée '{0}'. La directive sera ignorée.|Se produit si vous spécifiez un `custom` directive, mais ne fournissez pas un `processor` attribut. Le message fournit le nom de la directive et le numéro de ligne.|Fournir un `processor` attribut avec le nom de la `directive` processeur pour la directive.|  
|Un processeur nommé '{0}' est introuvable pour la directive nommée « {{1} ». La directive sera ignorée.|Se produit lorsque le système ne peut pas trouver le `directive` processeur que vous avez spécifié dans un `custom` la directive. Le message fournit le nom de la directive, nom du processeur et le numéro de ligne de la directive.|Définir le `processor` attribut dans la directive pour le nom du processeur de directive.|  
|Un paramètre obligatoire '{0}' pour la directive '{1}' est introuvable. La directive sera ignorée.|Se produit lorsque le système ne fournit pas un paramètre de directive obligatoire. Le message fournit le nom du paramètre manquant, le nom de la directive et le numéro de ligne.|Fournissez le paramètre manquant.|  
|Le processeur nommé '{0}' ne prend pas en charge la directive nommée « {{1} ». La directive sera ignorée.|Se produit lorsqu’un processeur de directive ne prend pas en charge une directive. Le message fournit le nom et numéro de ligne de la directive incriminée, ainsi que le nom du processeur de directive.|Corrigez le nom de la directive.|  
|La directive include pour le fichier '{0}' provoque une boucle infinie.|Affiché si les directives include circulaires sont spécifiées (par exemple, le fichier A inclut le fichier B, qui inclut le fichier A).|Ne spécifiez pas circulaire directives #include.|  
|Transformation en cours d’exécution :|Ajoute cette chaîne à toutes les erreurs ou avertissements générés pendant l’exécution de la transformation.|Non applicable.|  
|Une balise de début ou de fin inattendue a été trouvée dans un bloc. Assurez-vous que vous n’avez pas incorrectement tapé une balise de début ou de fin, et que vous n’avez blocs imbriqués dans le modèle.|Affiche lorsque vous avez inattendus \<# ou #>. Autrement dit, si vous avez un \<# après une autre balise ouverte qui n’a pas été fermée, ou que vous avez un #> lorsqu’il n’existe aucune balise ouverte non fermée avant. Le message fournit le numéro de ligne de la balise ne correspondent pas.|Supprimez la balise de début ou de fin ne correspondent pas, ou utiliser un caractère d’échappement.|  
|Une directive a été spécifiée dans un format incorrect. La directive sera ignorée. Spécifiez la directive au format`<#@ name [parametername="parametervalue"]*  #>`|Affiché par l’analyseur si une directive n’est pas spécifiée dans le format correct. Le message fournit le numéro de ligne de la directive incorrecte.|Assurez-vous que toutes les directives sont sous la forme `<#@ name [parametername="parametervalue"]*  #>`. Pour plus d’informations, consultez [Directives de modèle de texte T4](../modeling/t4-text-template-directives.md).|  
|Impossible de charger l’Assembly '{0}' pour le processeur de directive inscrit '{1}'<br /><br /> {2}|Se produit lorsqu’un processeur de directive n’a pas pu être chargé par l’hôte. Le message identifie l’assembly fourni pour le processeur de directive et le nom du processeur de directive.|Assurez-vous que le processeur de directive est inscrit correctement et que l’assembly existe.|  
|Impossible de trouver le type '{0}' dans l’Assembly « {{1} » pour le processeur de directive inscrit « {{2} »<br /><br /> {3}|Se produit lorsqu’un type de processeur de directive n’a pas pu être chargé à partir de son assembly. Le message fournit le nom du type, assembly et du processeur de directive.|Le vshost recherche les informations de processeur de directive (nom, assembly et type) dans le Registre. Assurez-vous que le processeur de directive est inscrit correctement, et que le type existe dans l’assembly.|  
|Un problème de chargement de l’assembly '{0}'|Se produit lorsqu’il existe un problème de chargement d’un assembly. Le message fournit le nom de l’assembly.|Vous pouvez spécifier des assemblys à charger dans \<@# assembly #> directives et par les processeurs de directive. Le message d’erreur qui suit cette chaîne doit fournir davantage de données sur la raison de l’échec du chargement de l’assembly.|  
|Un problème de création et l’initialisation du processeur de directive nommé « {{1} » est survenu. Le type du processeur est {0}. La directive sera ignorée.|Se produit lorsque le système ne peut pas créer ou initialiser un processeur de directive. Le message fournit le nom et numéro de ligne de la directive et le type du processeur.|Assurez-vous que vous utilisez le processeur de directive correct et que le processeur de directive a un constructeur public par défaut. Sinon, utilisez les options de débogage pour savoir pourquoi la méthode Initialize() du processeur de directive échoue. Pour plus d’informations, consultez [résolution des problèmes des modèles de texte](../modeling/debugging-a-t4-text-template.md).|  
|Une Exception a été levée lors du traitement d’une directive nommée '{0}'.|Se produit lorsqu’un processeur de directive lève une exception lors du traitement d’une directive.|N’oubliez pas que les paramètres pour le processeur de directive sont corrects.|  
|L’hôte a levé une exception lors de la tentative de résoudre la référence d’assembly '{0}'.|Se produit lorsque l’hôte lève une exception lorsqu’il tente de résoudre une référence d’assembly. Le message fournit l’assembly de référence de chaîne.|Assembly proviennent de références \<@# assembly #> directives et processeurs de directive. Assurez-vous que le paramètre 'name' fourni dans le paramètre de l’assembly est correct.|  
|Essayez de spécifier la valeur de {{1} non pris en charge '{0}' pour la directive {2}|Se produit par la classe RequiresProvidesDirectiveProcessor (tous nos processeurs de directive générés dérivent), lorsque vous fournissez un non pris en charge nécessite ou fournit l’argument.|Assurez-vous que les noms dans le name = 'value' paires fournis dans le requiert et fournit des paramètres sont corrects.|